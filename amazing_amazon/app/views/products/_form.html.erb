<%= form_with model: @product, local: true do |f| %>
  <div class='form-group'>
    <%= f.label :title %>
    <%= f.text_field(:title, class: "form-control", placeholder: "Product Name") %>
  </div>
  <div class='form-group'>
    <%= f.label :description %>
    <%= f.text_area(:description, class: "form-control", cols: 50, rows: 5, placeholder: "Provide Description") %>
  </div>
  <div class='form-group'>
    <%= f.label :price %>
    <%= f.number_field(:price, class: "form-control", min: 0, placeholder: "Enter Price", step: :any) %>
  </div>
     <div class='form-group'>
    <%= f.label :tag_names %>
    <%= f.text_field :tag_names %>
  </div>
    <%= f.submit %>
<% end %>

<script>
  $(function(){
    $('#product_tag_names').selectize({
      delimeter: ',',
      persist: false,
      labelField: 'name',
      valueField: 'name',
      searchField: 'name',
      options: <%= Tag.select(:name).to_json(except: [:id]).html_safe %>,
        create: function(input) {
        return {
            name: input 
        }
      }
    });
  });
</script> 
